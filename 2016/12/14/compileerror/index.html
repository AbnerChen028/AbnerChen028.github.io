<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="编译," />





  <link rel="alternate" href="/atom.xml" title="abnerchen" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="今天接手一个新项目，由于使用的CocoaPods来管理第三方的，使用pod install命令之后打开项目发现如下警告： 1234567891011ld: warning: directory not found for option &amp;apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvo">
<meta name="keywords" content="编译">
<meta property="og:type" content="article">
<meta property="og:title" content="编译报错记录">
<meta property="og:url" content="https://abnerchen028.github.io/2016/12/14/compileerror/index.html">
<meta property="og:site_name" content="abnerchen">
<meta property="og:description" content="今天接手一个新项目，由于使用的CocoaPods来管理第三方的，使用pod install命令之后打开项目发现如下警告： 1234567891011ld: warning: directory not found for option &amp;apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvo">
<meta property="og:updated_time" content="2017-12-26T03:28:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="编译报错记录">
<meta name="twitter:description" content="今天接手一个新项目，由于使用的CocoaPods来管理第三方的，使用pod install命令之后打开项目发现如下警告： 1234567891011ld: warning: directory not found for option &amp;apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://abnerchen028.github.io/2016/12/14/compileerror/"/>





  <title> 编译报错记录 | abnerchen </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7e8ebd2e2ad74059479ce3f86f766bc6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">abnerchen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Coding Coding Coding !</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://abnerchen028.github.io/2016/12/14/compileerror/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Abner Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/16740864.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="abnerchen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                编译报错记录
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-14T11:22:20+08:00">
                2016-12-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS开发/" itemprop="url" rel="index">
                    <span itemprop="name">iOS开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/12/14/compileerror/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/12/14/compileerror/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>今天接手一个新项目，由于使用的<code>CocoaPods</code>来管理第三方的，使用<code>pod install</code>命令之后打开项目发现如下警告：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/AFNetworking&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/FMDB&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/MBProgressHUD&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/PBKDF2-Wrapper&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/Reachability&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/SBJson&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/SFHFKeychainUtils&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/SQLCipher&apos;</div><div class="line">ld: warning: directory not found for option &apos;-L/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Products/Debug-iphonesimulator/Toast&apos;</div><div class="line">ld: library not found for -lAFNetworking</div><div class="line">clang: error: linker command failed with exit code 1 (use -v to see invocation)</div></pre></td></tr></table></figure>
<p>在网上查找了一番，在<a href="http://stackoverflow.com/questions/27055970/xcode-6-1-file-was-built-for-x86-64-which-is-not-the-architecture-being-linked" target="_blank" rel="external">stackoverflow</a>找到一个方法：<br><strong>Make sure you have i386 and x86_64 listed in your Architectures in Build settings for your lib. Also set Build Active Architecture Only explicitly to No.</strong> </p>
<p>但是我发现其实项目中<code>Valid architectures</code>只有 <code>arm64</code> <code>armv7</code> <code>armv7s</code>，也就是说即将编译的指令集中不包含有<code>x86</code>的指令，此时的<code>Build Active Architecture Only</code>参数为<code>NO</code>,此时编译生成的指令是不能够在<code>x86</code>的机器上使用的。然后将<code>Build Active Architecture Only</code>参数设置为<code>DEBUG</code>模式下设为<code>YES</code>，<code>RELEASE</code>设为<code>NO</code>，再次运行，完美解决。</p>
<p>另一个错误如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">duplicate symbol _approvalFlag in:</div><div class="line">/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Intermediates/PioneerSalesApp.build/Debug-iphonesimulator/PioneerSalesApp.build/Objects-normal/x86_64/SearchController.o</div><div class="line">/Users/abnerchen/Library/Developer/Xcode/DerivedData/PioneerSalesApp-cvhvopmhxlvwrhazdwjzrhpbbwkd/Build/Intermediates/PioneerSalesApp.build/Debug-iphonesimulator/PioneerSalesApp.build/Objects-normal/x86_64/ChildChannelView.o</div><div class="line">ld: 1 duplicate symbol for architecture x86_64</div><div class="line">clang: error: linker command failed with exit code 1 (use -v to see invocation)</div></pre></td></tr></table></figure>
<p>该问题在<a href="http://stackoverflow.com/questions/11233235/what-is-gcc-no-common-blocks-used-for" target="_blank" rel="external">stackoverflow</a>的解决办法如下：<code>Target</code>-&gt;<code>Build Settings</code>-&gt;<code>Apple LLVM -Code Generation</code>-&gt;<code>No Common Blocks</code> 设置为<code>NO</code>。</p>
<p>该问题在<code>Apple</code>的官方文档描述：</p>
<blockquote>
<p>In C, allocate even uninitialized global variables in the data section of the object file, rather than generating them as common blocks. This has the effect that if the same variable is declared (without extern ) in two different compilations, you will get an error when you link them. The only reason this might be useful is if you wish to verify that the program will work on other systems which always work this way.  </p>
</blockquote>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/编译/" rel="tag"># 编译</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/29/androidlayout/" rel="next" title="android布局">
                <i class="fa fa-chevron-left"></i> android布局
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/12/25/appledoc/" rel="prev" title="appledoc">
                appledoc <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <script id="-mob-share" src="http://f1.webshare.mob.com/code/mob-share.js?appkey=1eafef7fbbb07"></script>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/imgs/16740864.jpeg"
               alt="Abner Chen" />
          <p class="site-author-name" itemprop="name">Abner Chen</p>
           
              <p class="site-description motion-element" itemprop="description">iOS Developer</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">36</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Abner Chen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://abner-blog.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://abnerchen028.github.io/2016/12/14/compileerror/';
          this.page.identifier = '2016/12/14/compileerror/';
          this.page.title = '编译报错记录';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://abner-blog.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  





  






  





  

  

  

  

</body>
</html>
